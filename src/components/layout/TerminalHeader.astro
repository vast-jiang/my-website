---
const pathname = Astro.url.pathname;

const navItems = [
  { name: "控制台", path: "/" },
  { name: "系统日志", path: "/logs" },
  { name: "用户手册", path: "/about" },
];
---

<header class="mb-6 md:mb-10 relative z-40">
  <!-- 顶部装饰线 -->
  <div
    class="hidden md:flex justify-between items-center text-xs text-dos-dim mb-1 font-mono uppercase tracking-widest"
  >
    <span>System_Check: OK</span>
    <span class="animate-pulse">Connected: SECURE</span>
  </div>

  <!-- 主导航栏 -->
  <div
    class="border-y-2 border-dos-primary bg-black/90 backdrop-blur-sm p-3 md:p-4 flex flex-col md:flex-row justify-between items-center relative gap-4 md:gap-0"
  >
    <!-- 左侧 LOGO (添加了故障特效) -->
    <div
      class="flex items-center gap-3 w-full md:w-auto justify-between md:justify-start"
    >
      <div class="flex flex-col">
        <h1
          class="text-2xl md:text-4xl font-bold tracking-tighter drop-shadow-[0_0_10px_rgba(51,255,0,0.8)] glitch-effect cursor-default"
          data-value="DOS_SYSTEM"
        >
          DOS_SYSTEM<span class="animate-blink">_</span>
        </h1>
        <p class="text-[10px] md:text-xs text-dos-dim tracking-widest">
          KERNEL V3.0 // MOBILE_READY
        </p>
      </div>
      <!-- 手机端右上角装饰 -->
      <div class="md:hidden flex gap-1">
        <div class="w-2 h-2 bg-dos-primary animate-pulse"></div>
        <div class="w-2 h-2 bg-dos-dim"></div>
      </div>
    </div>

    <!-- 右侧 导航菜单 -->
    <nav
      class="w-full md:w-auto overflow-x-auto flex gap-1 bg-dos-dim/10 p-1 rounded border border-dos-dim/30 no-scrollbar"
    >
      {
        navItems.map((item) => (
          <a
            href={item.path}
            class={`px-3 md:px-4 py-1 text-sm md:text-lg uppercase whitespace-nowrap transition-all flex-shrink-0 border border-transparent ${
              pathname === item.path
                ? "bg-dos-primary text-black font-bold shadow-[0_0_10px_#33ff00] border-black"
                : "hover:bg-dos-primary/20 hover:text-white hover:border-dos-primary/50"
            }`}
          >
            [ {item.name} ]
          </a>
        ))
      }
    </nav>

    <!-- 装饰性方块 -->
    <div class="absolute top-0 right-0 w-1.5 h-1.5 bg-dos-primary"></div>
    <div class="absolute bottom-0 left-0 w-1.5 h-1.5 bg-dos-primary"></div>
  </div>
</header>

<style>
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>
